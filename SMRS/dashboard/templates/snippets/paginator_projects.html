{% if projects.has_previous %}
    <a class="btn btn-sm btn-primary" href="?page=1">First</a>
    <a class="btn btn-sm btn-primary" href="?page={{ projects.previous_page_number }}">Previous</a>
{% endif %}

{% for num in projects.paginator.page_range %}
    {% if projects.number == num %}
    <a class="btn btn-sm btn-primary" href="?page={{ num }}">{{ num }}</a>
    {% elif num > projects.number|add:'-3' and num < projects.number|add:'3' %}
    <a class="btn btn-sm btn-primary" href="?page={{ num }}">{{ num }}</a>
    {% endif %}
{% endfor %}

{% if projects.has_next %}
    <a class="btn btn-sm btn-primary" href="?page={{projects.next_page_number}}">Next</a>
    <a class="btn btn-sm btn-primary" href="?page={{ projects.paginator.num_pages }}">Last</a>
{% endif %}